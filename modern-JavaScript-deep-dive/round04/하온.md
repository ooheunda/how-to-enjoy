# 12장 함수

## 12.1 함수란?

: 일련의 과정을 문으로 구현하고 코드 블록으로 감싸서 하나의 실행 단위로 정의 한 것이다.

- JS에서 함수는 객체 타입의 값이다.

## 12.2 함수를 사용하는 이유

: 코드의 재사용성을 위해서 사용한다.

- 재사용성을 높이는 함수는 **유지보수의 편의성**을 높이고, 코드의 신뢰성을 높인다.

## 12.3 함수 리터럴

- 구성요소

1. 함수이름
   - 식별자이므로 네이밍 규칙을 준수해야 한다.
   - 함수 몸체 내에서만 참조할 수 있는 식별자이다.
   - 이름 생략 가능. 이름x => 무명/익명 함수
2. 매개변수 목록
   - 순서에 의미가 있다.
   - 네이밍 규칙을 준수해야 한다.
3. 함수 몸체
   - 함수 호출에 의해 실행된다.

## 12.4 함수 정의

: 함수 호출 이전에 매개변수와 몸체 등 지정하는 것이다.

- 정의 방식

1. 함수 선언문

```javascript
function add(x, y) {
  return x + y;
}
```

2. 함수 표현식

```javascript
let add = function add(x, y) {
  return x + y;
};
```

3. function 생성자 함수

```javascript
let add = new function('x','y','return x+y')
```

4. 화살표 함수

```javascript
let add = (x, y) => x + y;
```

### 12.4.1 함수 선언문

- 이름 생략 X => 이름 생략을 제외하고 함수 리터럴 표현식과 형태가 같다.
- 표현식이 아닌 문이다.
  - 표현식이 아닌 문이지만 변수에 할당이 가능 => 코드 문맥에 따라 동일한 함수 리터럴을
    - 함수 선언문으로 해석 (표현식이 아닌 문)
    - 함수 리터럴 표현식으로 해석
- 함수 리터럴을 단독으로 사용 => 함수 선언문
- 함수 리터럴을 변수에 할당 OR 피연산자로 사용 -> 함수 리터럴 표현식으로 해석한다.
- **함수 이름으로 식별자를 암묵적 생성**

### 12.4.2 함수 표현식

:JS 에서 함수는 값처럼 자유롭게 사용 가능. => 일급 객체

- 일급객체 => 함수 리터럴로 생성한 함수 객체를 변수에 할당 = **함수 표현식**

### 12.4.3 함수 생성 시점과 함수 호이스팅

- 선언문으로 정의한 함수 => 함수 선언문 이전에 호출 O
- 표현식으로 정의한 함수 => 함수 표현식 이전에 호출 X
- 함수 선언문이 코드의 선두로 끌어올려진 것처럼 동작 => 함수 호이스팅
- 함수 표현식으로 함수를 정의 => 변수 호이스팅

### 12.4.4 function 생성자 함수

### 12.4.5 화살표 함수

: function 키워드 대신 화살표를 사용.

- 항상 익명 함수로 정의

## 12.5 함수 호출

: 함수를 가르키는 식별자와 ()로 호출

### 12.5.1 매개변수와 인수

```javascript
function add(x, y) {
  // (x,y) => 매개변수
  return x + y;
}
add(1, 2); // (1,2) => 인수
```

- 매개변수
  - 함수를 정의 할 때 선언
  - 함수 몸체에서 변수와 동일하게 사용
  - 매개변수보다 인수가 많을 경우 초과된 인수는 무시

### 12.5.2 인수 확인

- 매개변수와 인수의 개수가 일치하는지 확인 X
- 매개변수의 타입을 사전에 지정 X

=> 함수를 정의 할 때 인수 전달 확인

1. arguments 객체 사용
2. 단축 평가 사용

## 12.6 참조에 의한 전달과 외부 상태의 변경

- 원시 타입 인수
  - 값 자체가 복사되어 매개 변수에 전달 => 함수 몸체에서 값 변경시 원본 훼손X

=> 함수 외부(외부 상태)에서 함수 몸체 내부로 전달한 원시 값의 원본을 변경하는 부수 효과 발생X

- 객체 타입 인수
  - 참조 값이 복사되어 매개변수에 전달 => 함수 몸체에서 참조 값을 통해 변경 시 원본 훼손 O

=> 함수 외부(외부 상태)에서 함수 몸체 내부로 전달한 참조 값에 의해 원본 객체가 변경되는 부수 효과 발생O

## 12.7 다양한 함수의 형태

### 12.7.1 즉시 실행 함수

: 함수 정의와 동시에 즉시 호출되는 함수

- 단 한번만 호출되며 다시 호출 X
- 그룹연산자로 감싸야 함 => 함수 리터럴을 평가해서 함수 객체를 생성하기 위해

### 12.7.2 재귀 함수

: 함수가 자기 자신을 호출 하는 함수

- 탈출 조건을 반드시 만들어야 한다.

### 12.7.3 중첩 함수 = 내부 함수

: 함수 내부에 정의된 함수를 중첩 함수 OR 내부 함수 라고 한다.

- 중첩 함수를 포험하는 함수는 외부 함수라고 부른다.
- 중첩 함수는 외부 함수 내부에서만 호출 가능

### 12.7.4 콜백 함수

: 함수의 배개변수를 통해 다른 함수의 내부로 전달되는 함수.

- 고차함수 > 콜백함수
- 함수의 매개변수를 통해 함수의 외부에서 콜백 함수를 전달 받는 함수 = 고차함수
- 고차 함수에 의해 호출 된다.

### 12.7.5 순수 함수와 비순수 함수

1. 순수 함수 : 어떤 외부 상태에 의존하지도 않고 변경하지도 않음 => 부수 효과가 없는 함수

- 인수의 불변성 유지

2. 비순수 함수 : 외부 상태에 의존하거나 외부 상태를 변경 함 => 부수 효과가 있는 함수

# 13 스코프

## 13.1 스코프란

1. 식별자가 유효한 범위
2. 식별자를 검색 할 때 사용하는 규칙

## 13.2 스코프의 종류

| 구분 |         설명          |   스코프    |   변수    |
| ---- | :-------------------: | :---------: | :-------: |
| 전역 | 코드의 가장 바깥 영역 | 전역 스코프 | 전역 변수 |
| 지역 |    함수 몸체 내부     | 지역 스코프 | 지역 변수 |

### 13.2.1 전역과 전역 스코프

- 전역 변수는 어디서나 참조 가능

### 13.2.2 지역과 지역 스코프

- 지역 변수는 지역 스코프와 하위 지역 스코프에서만 유효

## 13.3 스코프 체인

: 스코프가 계층적으로 연결 된 것.

- 변수를 참조 할 때 JS 엔진은 스코프 체인을 통해 변수를 참조하는 코드의 스코프에서 시작하여 상위 스코프 방향으로 이동하며 선언된 변수를 검색.

## 13.3.1 스코프 체인에 의한 변수 검색

- 상위 스코프에서 유효한 변수는 하위 스코프에서 자유롭게 참조 O
- 하위 스코프에서 유효한 변수를 상위 스코프에서 참조 X

## 13.5 렉시컬 스코프 = 정적 스코프

:함수가 정의 되는 시점에 상위 스코프가 정적으로 결정.

- 상위 스코프 결정 방식

1. 함수를 어디서 **호출** 했는지에 따라 함수의 상위 스코프 결정. => 동적 스코프
2. 함수를 어디서 **정의** 했는지에 따라 함수의 상위 스코프 결정. => 정적 스코프, 렉시컬 스코프

### 자바 스크립트는 렉시컬 스코프를 따르므로 함수를 어디서 정의 했는지에 따라 상위 스코프 결정.
